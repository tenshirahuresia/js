javascript:(function(){try{function getCookie(n){var m=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return m?decodeURIComponent(m[1]):null;}async function loginScratch(username,password){try{const res=await fetch("https://scratch.mit.edu/accounts/login/",{method:"POST",credentials:"include",headers:{"x-csrftoken":getCookie("scratchcsrftoken")||"a","x-requested-with":"XMLHttpRequest","content-type":"application/json","accept":"application/json"},body:JSON.stringify({username:username,password:password,useMessages:true})});const text=await res.text();alert("HTTP "+res.status+" "+res.statusText+"\n\n"+text);return res.ok;}catch(e){alert("fetchエラー: "+e.message);throw e;}}(async function(){var cred=prompt("ユーザー名 と パスワードをカンマ区切りで入力してください\n例: myname, mypassword");if(!cred)return;var parts=cred.split(",");if(parts.length<2){alert("入力はカンマ区切り（username,password）でしてください");return;}var user=parts.shift().trim();var pass=parts.join(",").trim();if(!user||!pass){alert("ユーザー名またはパスワードが空です");return;}var ok=await loginScratch(user,pass);if(ok){alert("ログイン成功！");}else{alert("ログイン失敗");}})();}catch(e){alert("実行エラー: "+e.message);}})();
